#!/bin/bash
# Fresher - AI-driven iterative development using Claude Code
# Main entry point

set -e

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

case "${1:-}" in
  init)
    shift
    exec "$SCRIPT_DIR/.fresher-internal/init.sh" "$@"
    ;;
  plan|planning)
    export FRESHER_MODE="planning"
    exec "$SCRIPT_DIR/.fresher/run.sh"
    ;;
  build|building)
    export FRESHER_MODE="building"
    exec "$SCRIPT_DIR/.fresher/run.sh"
    ;;
  *)
    echo "Fresher - AI-driven iterative development"
    echo ""
    echo "Usage: fresher <command>"
    echo ""
    echo "Commands:"
    echo "  init      Initialize Fresher in current directory"
    echo "  plan      Run planning mode"
    echo "  build     Run building mode"
    exit 1
    ;;
esac
