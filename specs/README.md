# Fresher Specifications

Design documentation for a portable Ralph Loop implementation that enables AI-driven iterative development using Claude Code.

## Overview

Fresher implements the Ralph Loop methodology - an iterative execution model with two modes (PLANNING and BUILDING) that uses fresh context each iteration, enabling specification-driven development with AI assistance.

**Status Legend:**
- **Planned** - Design complete, not yet implemented
- **In Progress** - Currently being implemented
- **Implemented** - Feature complete and tested

---

## Core Components

| Spec | Status | Purpose |
|------|--------|---------|
| [loop-executor.md](./loop-executor.md) | **Implemented** | Bash script running Claude Code iterations with streaming and termination control |
| [prompt-templates.md](./prompt-templates.md) | **Implemented** | PROMPT.md files for PLANNING and BUILDING modes |
| [project-scaffold.md](./project-scaffold.md) | In Progress | .fresher/ folder structure, templates, and initialization (Phase 1 done) |

## Verification & Quality

| Spec | Status | Purpose |
|------|--------|---------|
| [plan-verification.md](./plan-verification.md) | Planned | Gap analysis comparing plan against specs and code |
| [self-testing.md](./self-testing.md) | Planned | Test scenarios to verify the loop works correctly |

## Extensibility

| Spec | Status | Purpose |
|------|--------|---------|
| [lifecycle-hooks.md](./lifecycle-hooks.md) | In Progress | Event hooks for started, next_iteration, finished (basic hooks exist) |
| [docker-isolation.md](./docker-isolation.md) | Planned | Devcontainer integration using official Claude Code image |

## Distribution & Usage

| Spec | Status | Purpose |
|------|--------|---------|
| [installer.md](./installer.md) | Planned | One-command install/upgrade with version tracking and config preservation |
| [project-integration.md](./project-integration.md) | Planned | .gitignore configuration, project type detection, CLAUDE.md integration |
| [documentation.md](./documentation.md) | Planned | Comprehensive README with install, modes, hooks, config, troubleshooting |

---

## Quick Start

Once implemented, usage will be:

```bash
# Initialize Fresher in a project
fresher init

# Run planning mode
fresher plan

# Run building mode
fresher build

# Or use local scripts directly
./.fresher/run.sh planning
./.fresher/run.sh building
```

---

## Architecture Overview

```
project/
├── .fresher/
│   ├── run.sh                 # Main loop executor
│   ├── PROMPT.planning.md     # Planning mode instructions
│   ├── PROMPT.building.md     # Building mode instructions
│   ├── AGENTS.md              # Project-specific operational knowledge
│   ├── config.sh              # Configuration variables
│   ├── hooks/                 # Lifecycle hook scripts
│   │   ├── started
│   │   ├── next_iteration
│   │   └── finished
│   └── logs/                  # Iteration logs
├── specs/                     # Specification files
│   └── README.md
├── IMPLEMENTATION_PLAN.md     # Generated by planning mode
└── CLAUDE.md                  # Project context (auto-loaded by Claude)
```

---

## Design Principles

1. **Fresh Context**: Each iteration starts with cleared context to stay in the "smart zone"
2. **Subagent Delegation**: Main agent coordinates, subagents handle heavy lifting
3. **Backpressure**: Tests and builds provide validation gates
4. **Portability**: `.fresher/` folder can be added to any project
5. **Safety First**: Docker isolation available for dangerous permissions mode
